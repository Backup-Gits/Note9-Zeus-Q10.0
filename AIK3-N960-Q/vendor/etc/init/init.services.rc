# Copyright (C) 2012 The Android Open Source Project
#
# IMPORTANT: Do not create world writable files or directories.
# This is a common source of Android security bugs.
#

on property:sys.boot_completed=1
    stop proca
    stop secure_storage

     # Turn on zram
    write /proc/sys/vm/swappiness 100
    write /sys/block/zram0/comp_algorithm zstd
    write /sys/block/zram0/disksize 1G
    write /proc/sys/vm/page-cluster 0
    exec u:r:init:s0 -- /system/bin/mkswap /dev/block/zram0
    exec u:r:init:s0 -- /system/bin/swapon /dev/block/zram0